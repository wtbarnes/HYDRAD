# HYDRAD
Here, outline the inputs to the main HYDRAD code.

## `HYDRAD/config/hydrad.cfg`
This file is read in by `CEquation:Initialise()`. The path to the configuration file is currently hardcoded. The structure of the HYDRAD configuration file is as as follows:

| Variable Target | Type | Description |
|:---------------:|:---- |:-----------|
| `Params.Profiles` | `char` array | path to file containing static equilibrium file generated by Initial Conditions code |
| `Params.GravityFilename` | `char` array | gravity look-up table filename |
| `Params.Duration` | int | Total duration of the simulation (in s) |
| `Params.OutputPeriod` | int | Choose how often results get printed to file (s) |

## `HYDRAD/source/config.h`
This header file sets a series of `#defines` that are used like global variables. These are set by the GUI. These are divided into several different categories.
### Output

| Variable | Type | Description | File Target(s) |
|:--------:|:-----|:----------- |:-------------- |
| `output_dir` | string | Directory where all the results will be printed | Used in the `CMesh` class |
| `WRITE_FILE_PHYSICAL` | boolean | | |
| `WRITE_FILE_ION_POPULATIONS` | boolean | | |
| `WRITE_FILE_SCALES` | boolean | | |
| `WRITE_FILE_TERMS` | boolean | | |
| `OUTPUT_EVERY_N_TIME_STEPS` | int | Choose how often results get printed to screen | |

### Physics

| Variable | Type | Description | File Target(s) |
|:--------:|:-----|:----------- |:-------------- |
| `HEATED SPECIES` | int | Heating; choose whether to heat electrons (0) or ions (1) | |
| `NON_EQUILIBRIUM_RADIATION` | boolean | Radiation; choose whether or not to include effects due to NEI | |
| `USE_POWER_LAW_RADIATIVE_LOSSES` | boolean | Radiation; if True, use power-law approximation to calculate \Lambda(T) | |
| `DECOUPLE_IONISATION_STATE_SOLVER` | boolean | Radiation; (**NOTE:** NEI radiation should be enabled with this option.)| |
| `DENSITY_DEPENDENT_RATES` | boolean | Radiation; | |
| `OPTICALLY_THICK_RADIATION` | boolean | Radiation; | |
| `USE_KINETIC_MODEL` | boolean | Thermal Conduction; turn on kinetic effects | |
| ~~`USE_TABULATED_GRAVITY`~~ | boolean | Gravity; | |
| ~~`TABULATED_GRAVITY_FILE`~~ | `char` array | Gravity; | |
| `MINIMUM_COLLISIONAL_COUPLING_TIMESCALE` | float | Collisions; | |
| `FORCE_SINGLE_FLUID` | boolean | Collisions; | |

### Solver

| Variable | Type | Description | File Target(s) |
|:--------:|:-----|:----------- |:-------------- |
`SAFETY_RADIATION` | float | CFL condition safety coefficient, radiation | | 
`SAFETY_CONDUCTION` | float | CFL condition safety coefficient, conduction | | 
`SAFETY_ADVECTION` | float | CFL condition safety coefficient, transport | |
`SAFETY_VISCOSITY` | float | CFL condition safety coefficient, viscosity | |
`TIME_STEP_INCREASE_LIMIT` | int| allowed limit (in %) for time step to increase above previous time step | |
`NUMERICAL_VISCOSITY` | boolean | | |
`RELATIVE_VISCOUS_TIME_SCALE` | float | | | 
`MINIMUM_RADIATION_TEMPERATURE` | float | set limit on temperature range in which ions radiate (K) | | 
`ZERO_OVER_TEMPERATURE_INTERVAL` | float | Define temperature range for gradual cutoff (K) | |
`MINIMUM_TEMPERATURE` | float | | |


### Grid

| Variable | Type | Description | File Target(s) |
|:--------:|:-----|:----------- |:-------------- |
| `ADAPT` | boolean | | |
| `MAX_REFINEMENT_LEVEL` | int | | |
|`REFINE_ON_DENSITY` | boolean | | |
|`REFINE_ON_ELECTRON_ENERGY` | boolean | | |
|`REFINE_ON_HYDROGEN_ENERGY` | boolean | | |
|`MIN_FRAC_DIFF` | int | lower bound on % difference between widths of adjacent grid cells | |
|`MAX_FRAC_DIFF` | int | upper bound on % difference between widths of adjacent grid cells | |
|`LINEAR_RESTRICTION` | boolean | | |
|`ENFORCE_CONSERVATION` | boolean | | |

